-- ========================================
-- 011_seed_additional.sql
-- 추가 테이블 시드 데이터
-- ========================================

-- FK 제약조건 비활성화 (시드 데이터 삽입용)
PRAGMA foreign_keys = OFF;

-- ========================================
-- 1. 창고 마스터 시드
-- ========================================

INSERT OR IGNORE INTO warehouse_mst (warehouse_id, warehouse_nm, warehouse_type, location, temp_min, temp_max) VALUES
('WH-RM01', '원료창고 1동', 'RAW', '공장 A동 1층', 15, 25),
('WH-RM02', '냉장원료창고', 'COLD', '공장 A동 지하', 0, 5),
('WH-PKG01', '포장재창고', 'RAW', '공장 B동 1층', 15, 25),
('WH-WIP01', '공정중재고', 'WIP', '생산동 2층', 5, 10),
('WH-FG01', '완제품창고', 'FG', '물류센터 1층', 0, 5),
('WH-FG02', '냉동창고', 'FROZEN', '물류센터 지하', -25, -18),
('WH-SHIP01', '출하대기장', 'SHIPPING', '물류센터 출하장', 0, 10);

-- ========================================
-- 2. 품질검사 시드 데이터 (최근 30일)
-- ========================================

INSERT OR IGNORE INTO qc_inspection (inspection_no, inspection_type, lot_no, item_cd, inspection_time, inspector_id, ph_level, acidity, brix, fat_content, protein_content, viscosity, result, remark) VALUES
-- 수입검사 (원유)
('QC-2025-001', 'INCOMING', 'RM-241125-001', 'RM-001', '2025-11-25 08:30:00', 'OP-003', 6.7, 0.15, NULL, 3.8, 3.2, NULL, 'PASS', '원유 수입검사 합격'),
('QC-2025-002', 'INCOMING', 'RM-241126-001', 'RM-001', '2025-11-26 08:45:00', 'OP-003', 6.5, 0.18, NULL, 3.6, 3.1, NULL, 'PASS', '원유 수입검사 합격'),
('QC-2025-003', 'INCOMING', 'RM-241127-001', 'RM-001', '2025-11-27 09:00:00', 'OP-003', 6.8, 0.14, NULL, 4.0, 3.3, NULL, 'PASS', '원유 수입검사 합격'),

-- 공정검사 (살균 후)
('QC-2025-004', 'IN_PROCESS', 'BL-241125-001', 'FG-001', '2025-11-25 14:30:00', 'OP-004', 6.6, 0.16, 8.5, 2.0, 3.0, 45.2, 'PASS', '살균 후 공정검사'),
('QC-2025-005', 'IN_PROCESS', 'BL-241126-001', 'FG-002', '2025-11-26 15:00:00', 'OP-004', 6.4, 0.17, 12.0, 1.8, 2.8, 42.1, 'PASS', '딸기우유 살균 후'),
('QC-2025-006', 'IN_PROCESS', 'BL-241127-001', 'FG-003', '2025-11-27 14:45:00', 'OP-004', 6.5, 0.15, 14.5, 1.5, 2.5, 38.5, 'PASS', '바나나우유 살균 후'),

-- 완제품검사
('QC-2025-007', 'FINAL', 'FG-241125-001', 'FG-001', '2025-11-25 18:00:00', 'OP-003', 6.6, 0.16, 8.5, 2.0, 3.0, 45.0, 'PASS', '흰우유 완제품 검사 합격'),
('QC-2025-008', 'FINAL', 'FG-241126-001', 'FG-002', '2025-11-26 18:30:00', 'OP-003', 6.3, 0.18, 12.2, 1.9, 2.9, 43.0, 'PASS', '딸기우유 완제품 검사'),
('QC-2025-009', 'FINAL', 'FG-241127-001', 'FG-003', '2025-11-27 18:15:00', 'OP-003', 6.4, 0.16, 14.8, 1.6, 2.6, 39.0, 'PASS', '바나나우유 완제품 검사'),
('QC-2025-010', 'FINAL', 'FG-241128-001', 'FG-004', '2025-11-28 18:00:00', 'OP-004', 6.5, 0.17, 16.0, 1.5, 2.4, 35.0, 'PASS', '초코우유 완제품 검사');

-- ========================================
-- 3. 금속검출 로그 시드
-- ========================================

INSERT OR IGNORE INTO metal_detection_log (detection_time, equip_cd, line_cd, lot_no, metal_detected, sensitivity_fe, sensitivity_sus, reject_action, operator_id) VALUES
('2025-11-25 16:00:00', 'EQ-L1-MD01', 'LINE-01', 'FG-241125-001', 0, 1.5, 2.0, 'PASSED', 'OP-001'),
('2025-11-25 16:30:00', 'EQ-L1-MD01', 'LINE-01', 'FG-241125-001', 0, 1.5, 2.0, 'PASSED', 'OP-001'),
('2025-11-25 17:00:00', 'EQ-L1-MD01', 'LINE-01', 'FG-241125-001', 0, 1.5, 2.0, 'PASSED', 'OP-001'),
('2025-11-26 09:00:00', 'EQ-L2-MD01', 'LINE-02', 'FG-241126-001', 0, 1.5, 2.0, 'PASSED', 'OP-002'),
('2025-11-26 09:30:00', 'EQ-L2-MD01', 'LINE-02', 'FG-241126-001', 1, 1.5, 2.0, 'REJECTED', 'OP-002'),
('2025-11-26 10:00:00', 'EQ-L2-MD01', 'LINE-02', 'FG-241126-001', 0, 1.5, 2.0, 'PASSED', 'OP-002'),
('2025-11-27 14:00:00', 'EQ-L1-MD01', 'LINE-01', 'FG-241127-001', 0, 1.5, 2.0, 'PASSED', 'OP-001'),
('2025-11-27 15:00:00', 'EQ-L1-MD01', 'LINE-01', 'FG-241127-001', 0, 1.5, 2.0, 'PASSED', 'OP-001');

-- ========================================
-- 4. 공정 파라미터 로그 시드
-- ========================================

INSERT OR IGNORE INTO process_param_log (recorded_at, equip_cd, batch_lot_no, sterilization_temp, holding_time_sec, homogenizer_pressure, tank_temp, cip_status, fill_speed, fill_volume, cooling_temp) VALUES
-- 2025-11-25 생산 데이터
('2025-11-25 10:00:00', 'EQ-BAT-PAST01', 'BL-241125-001', 135.5, 4, NULL, NULL, 0, NULL, NULL, NULL),
('2025-11-25 10:05:00', 'EQ-BAT-PAST01', 'BL-241125-001', 135.8, 4, NULL, NULL, 0, NULL, NULL, NULL),
('2025-11-25 10:10:00', 'EQ-BAT-PAST01', 'BL-241125-001', 135.3, 4, NULL, NULL, 0, NULL, NULL, NULL),
('2025-11-25 11:00:00', 'EQ-BAT-HOMO01', 'BL-241125-001', NULL, NULL, 180.5, NULL, 0, NULL, NULL, NULL),
('2025-11-25 11:05:00', 'EQ-BAT-HOMO01', 'BL-241125-001', NULL, NULL, 182.0, NULL, 0, NULL, NULL, NULL),
('2025-11-25 12:00:00', 'EQ-BAT-COOL01', 'BL-241125-001', NULL, NULL, NULL, NULL, 0, NULL, NULL, 4.2),
('2025-11-25 12:05:00', 'EQ-BAT-COOL01', 'BL-241125-001', NULL, NULL, NULL, NULL, 0, NULL, NULL, 4.0),
('2025-11-25 14:00:00', 'EQ-L1-FILL01', 'BL-241125-001', NULL, NULL, NULL, NULL, 0, 200, 200, NULL),
('2025-11-25 14:30:00', 'EQ-L1-FILL01', 'BL-241125-001', NULL, NULL, NULL, NULL, 0, 195, 200, NULL),

-- 2025-11-26 생산 데이터
('2025-11-26 09:00:00', 'EQ-BAT-PAST01', 'BL-241126-001', 135.0, 4, NULL, NULL, 0, NULL, NULL, NULL),
('2025-11-26 09:05:00', 'EQ-BAT-PAST01', 'BL-241126-001', 136.2, 4, NULL, NULL, 0, NULL, NULL, NULL),
('2025-11-26 10:00:00', 'EQ-BAT-HOMO01', 'BL-241126-001', NULL, NULL, 175.0, NULL, 0, NULL, NULL, NULL),
('2025-11-26 11:00:00', 'EQ-BAT-COOL01', 'BL-241126-001', NULL, NULL, NULL, NULL, 0, NULL, NULL, 3.8),

-- CIP 세척 데이터
('2025-11-25 22:00:00', 'EQ-BAT-PAST01', NULL, NULL, NULL, NULL, NULL, 1, NULL, NULL, NULL),
('2025-11-26 06:00:00', 'EQ-BAT-PAST01', NULL, NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL);

-- ========================================
-- 5. 자재 투입 이력 시드
-- ========================================

INSERT OR IGNORE INTO material_input_log (input_time, batch_lot_no, wo_no, material_lot_no, item_cd, item_nm, plan_qty, input_qty, remain_qty, unit, operator_id, is_verified) VALUES
-- 2025-11-25 흰우유 생산
('2025-11-25 08:00:00', 'BL-241125-001', 'WO-241125-001', 'RM-241125-001', 'RM-001', '원유 (1급)', 1000, 1000, 0, 'L', 'OP-001', 1),
('2025-11-25 08:05:00', 'BL-241125-001', 'WO-241125-001', 'RM-241125-002', 'RM-007', '비타민 프리믹스', 2.5, 2.5, 0, 'KG', 'OP-001', 1),

-- 2025-11-26 딸기우유 생산
('2025-11-26 08:00:00', 'BL-241126-001', 'WO-241126-001', 'RM-241126-001', 'RM-001', '원유 (1급)', 800, 800, 0, 'L', 'OP-002', 1),
('2025-11-26 08:05:00', 'BL-241126-001', 'WO-241126-001', 'RM-241126-002', 'RM-002', '딸기 농축액', 50, 50, 10, 'L', 'OP-002', 1),
('2025-11-26 08:10:00', 'BL-241126-001', 'WO-241126-001', 'RM-241126-003', 'RM-005', '설탕 (백당)', 45, 45, 0, 'KG', 'OP-002', 1),

-- 2025-11-27 바나나우유 생산
('2025-11-27 08:00:00', 'BL-241127-001', 'WO-241127-001', 'RM-241127-001', 'RM-001', '원유 (1급)', 800, 800, 0, 'L', 'OP-001', 1),
('2025-11-27 08:05:00', 'BL-241127-001', 'WO-241127-001', 'RM-241127-002', 'RM-003', '바나나 퓨레', 60, 60, 5, 'L', 'OP-001', 1),
('2025-11-27 08:10:00', 'BL-241127-001', 'WO-241127-001', 'RM-241127-003', 'RM-005', '설탕 (백당)', 50, 50, 0, 'KG', 'OP-001', 1);

-- ========================================
-- 6. 재고 이동 이력 시드
-- ========================================

INSERT OR IGNORE INTO inventory_movement (movement_no, movement_type, movement_date, item_cd, lot_no, qty, unit, from_warehouse, to_warehouse, ref_type, ref_no) VALUES
-- 원자재 입고
('MV-2025-001', 'IN', '2025-11-25 07:00:00', 'RM-001', 'RM-241125-001', 5000, 'L', NULL, 'WH-RM02', 'PO', 'PO-2025-001'),
('MV-2025-002', 'IN', '2025-11-25 07:30:00', 'RM-002', 'RM-241125-002', 200, 'L', NULL, 'WH-RM02', 'PO', 'PO-2025-001'),

-- 생산 출고
('MV-2025-003', 'OUT', '2025-11-25 08:00:00', 'RM-001', 'RM-241125-001', 1000, 'L', 'WH-RM02', NULL, 'PROD', 'WO-241125-001'),
('MV-2025-004', 'OUT', '2025-11-26 08:00:00', 'RM-001', 'RM-241126-001', 800, 'L', 'WH-RM02', NULL, 'PROD', 'WO-241126-001'),

-- 완제품 입고
('MV-2025-005', 'IN', '2025-11-25 18:00:00', 'FG-001', 'FG-241125-001', 4800, 'EA', NULL, 'WH-FG01', 'PROD', 'WO-241125-001'),
('MV-2025-006', 'IN', '2025-11-26 18:00:00', 'FG-002', 'FG-241126-001', 3900, 'EA', NULL, 'WH-FG01', 'PROD', 'WO-241126-001'),

-- 출하
('MV-2025-007', 'OUT', '2025-11-27 09:00:00', 'FG-001', 'FG-241125-001', 2000, 'EA', 'WH-FG01', 'WH-SHIP01', 'SO', 'SO-2025-001'),
('MV-2025-008', 'OUT', '2025-11-28 09:00:00', 'FG-002', 'FG-241126-001', 1500, 'EA', 'WH-FG01', 'WH-SHIP01', 'SO', 'SO-2025-002'),

-- 창고간 이동
('MV-2025-009', 'TRANSFER', '2025-11-28 14:00:00', 'FG-001', 'FG-241125-001', 500, 'EA', 'WH-FG01', 'WH-FG02', NULL, NULL);

-- FK 제약조건 다시 활성화
PRAGMA foreign_keys = ON;
